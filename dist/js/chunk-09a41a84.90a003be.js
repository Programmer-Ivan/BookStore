(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09a41a84"],{"057f":function(t,e,n){var o=n("fc6a"),i=n("241c").f,s={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return r.slice()}};t.exports.f=function(t){return r&&"[object Window]"==s.call(t)?a(t):i(o(t))}},"0f42":function(t,e,n){"use strict";n("52ff")},1112:function(t,e,n){"use strict";n("d54c")},"34eb":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABk0lEQVRoQ+2Z3UYFURSA1/c8dVcv0H23iYiIiIiIiH5ERMQhIiIi0kPUfd3Vk/QAO5s5HJmzW2f/tbZm7saZGd+31p519lqDNH7QOL8MAn+dwSED/y4DzrkTEVkWkS8ReQX8efRRdQl18McTtJ/AfDS9SL0q1APvud+BRfMCU+A996n5JRSAPwLOUqLv7y36DgTgD4HzVPiiAgH4A+AiB3wxgQD8PnCZC76IgHPOl8m+2r4HXOWEzy4QgN8FRrnhswoE4HeA6xLw2QQC8NvATSn4LAIB+C3gtiR8skCg2mwCd6XhkwQC8BvAfQ34aIEA/DrwUAs+SiAAvwY81oSPFfgQkbkfoKvAU234WIE3EVloWcBvEya7qrFLG0vI0zb9Eo/D3XQZVUjY/yNTSNjfSigk7G/mFBL2t9MKCfsNjULCfkupkLDf1Csk7I9VFBL2B1sKCfujRYWE/eHuLxLtfB+Ysot9AZZSGqGi0+k+sG4Ms9L99mz++0BKdDX3Vs+ABmqWawaBWaJV4tohAyWiOsszvwGAjbUxED2S5gAAAABJRU5ErkJggg=="},"52ff":function(t,e,n){},5310:function(t,e,n){"use strict";n("e065")},"58e2":function(t,e,n){"use strict";n("9f01")},"5ad3":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-control"},t._l(t.control,(function(e,o){return n("div",{class:{active:o===t.currentIndex},on:{click:function(e){return t.itemClick(o)}}},[n("span",[t._v(t._s(e))])])})),0)},i=[],s={name:"TabControl",props:{control:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("TabControl",t)}}},r=s,a=(n("0f42"),n("2877")),c=Object(a["a"])(r,o,i,!1,null,"603acd81",null);e["a"]=c.exports},"6ab7":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"detail"},[o("nav-bar",{staticClass:"nav",attrs:{bg:"rgb(255, 129, 152)",color:"#fff"}},[o("div",{attrs:{slot:"left"},slot:"left"},[o("img",{staticClass:"left-img",attrs:{src:n("34eb"),alt:""}})]),o("div",{attrs:{slot:"center"},slot:"center"},[t._v("图书兄弟-商品详情")])]),o("scroll",{ref:"scroll",staticClass:"scrollY"},[o("detail-swiper",{attrs:{banners:t.goods_list.banners}}),o("div",{staticClass:"content"},[o("div",{staticClass:"title"},[o("p",[t._v(t._s(t.goods_list.title))]),o("p",[t._v(t._s(t.goods_list.description))]),o("div",{staticClass:"f"},[o("span",[t._v("新书")]),o("span",[t._v("推荐")])])]),o("p",{staticStyle:{"margin-top":"20px"}},[t._v("￥"+t._s(t.goods_list.price))])]),o("van-tabs",{staticClass:"tab",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[o("van-tab",{attrs:{title:"概述",name:"a"}},[o("div",{attrs:{id:"con1"},domProps:{innerHTML:t._s(t.goods_list.details)}})]),o("van-tab",{attrs:{title:"热评",name:"b"}},[t._v(" 评论~~~~~ "),o("div",{attrs:{id:"con1"},domProps:{innerHTML:t._s(t.goods_list.details)}})]),o("van-tab",{attrs:{title:"相关书籍",name:"c"}},[o("goods-list",{attrs:{goods:t.like_goods}})],1)],1)],1),o("van-goods-action",{staticClass:"footer"},[o("van-goods-action-icon",{attrs:{icon:"chat-o",text:"客服"}}),o("van-goods-action-icon",{attrs:{icon:"cart-o",text:"购物车",badge:t.$store.state.count}}),o("van-goods-action-icon",{attrs:{icon:"star",text:t.collect?"已收藏":"收藏",color:t.collect?"#ff5000":""},on:{click:t.cellectClick}}),o("van-goods-action-button",{attrs:{type:"warning",text:"加入购物车"},on:{click:t.addcart}}),o("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"},on:{click:t.buy}})],1)],1)},i=[],s=(n("a4d3"),n("e01a"),n("6d71")),r=n("7fae"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},[n("van-swipe-item",[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.banners,expression:"banners"}],attrs:{alt:""}})])],1)},c=[],l={name:"DetailSwiper",props:{banners:String}},u=l,f=(n("bc76"),n("2877")),d=Object(f["a"])(u,a,c,!1,null,"92ee9a84",null),p=d.exports,v=n("5ad3");var g=n("1bab");function b(t){return Object(g["a"])({url:"/api/goods/"+t})}function m(t){return Object(g["a"])({url:"/api/collects/goods/".concat(t),method:"post"})}var h=n("5a07"),y=n("d399"),_=n("5d17"),w={name:"Detail",components:{NavBar:r["a"],DetailSwiper:p,TabControl:v["a"],GoodsList:s["a"],Scroll:_["a"]},data:function(){return{id:null,activeName:0,goods_list:{},like_goods:[],collect:!1}},methods:{addcart:function(){var t=this;Object(h["a"])({goods_id:this.id,num:1}).then((function(e){"201"!=e.status&&"204"!=e.status||(y["a"].success("添加成功"),t.$store.dispatch("updata"))}))},buy:function(){var t=this;Object(h["a"])({goods_id:25,num:1}).then((function(e){"201"!=e.status&&"204"!=e.status||(y["a"].success("添加成功,显示购物车"),t.$store.dispatch("updata"),t.$router.push("/cart"))}))},itemClick:function(t){},collectload:function(){m(this.id).then((function(t){201===t.status?(console.log(t),y["a"].success("收藏成功")):204===t.status&&(console.log(t),y["a"].success("取消收藏"))}))},cellectClick:function(){this.collect=!this.collect,this.collect,this.collectload()}},created:function(){var t=this;this.id=this.$route.query.id,console.log(this.id),b(this.id).then((function(e){t.goods_list={banners:e.goods.cover_url,stock:e.goods.stock,price:e.goods.price,description:e.goods.description,title:e.goods.title,details:e.goods.details},t.like_goods=e.like_goods}))},updated:function(){this.$refs.scroll.refresh()}},A=w,S=(n("5310"),Object(f["a"])(A,o,i,!1,null,"b897eeec",null));e["default"]=S.exports},"6d71":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-list"},t._l(t.goods,(function(t){return n("goods-item",{attrs:{type:t}})})),1)},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-item",on:{click:t.itemClick}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.type.cover_url,expression:"type.cover_url"}],attrs:{alt:""},on:{load:t.imageLoad}}),n("div",[n("p",{staticClass:"title"},[t._v(t._s(t.type.title))]),n("span",{staticClass:"price"},[n("small",[t._v("￥")]),t._v(t._s(t.type.price))]),n("span",{staticClass:"collect"},[t._v(t._s(t.type.collects_count))])])])},r=[],a={name:"GoodsItem",props:{type:{type:Object,default:function(){return{}}}},methods:{imageLoad:function(){this.$bus.$emit("itemImageLoad")},itemClick:function(){this.$router.push({path:"/detail",query:{id:this.type.id}})}}},c=a,l=(n("58e2"),n("2877")),u=Object(l["a"])(c,s,r,!1,null,"0650a70e",null),f=u.exports,d={name:"Goods",props:{goods:{type:Array,default:function(){return[]}}},components:{GoodsItem:f},methods:{}},p=d,v=(n("1112"),Object(l["a"])(p,o,i,!1,null,"503c700b",null));e["a"]=v.exports},"746f":function(t,e,n){var o=n("428f"),i=n("5135"),s=n("e538"),r=n("9bf2").f;t.exports=function(t){var e=o.Symbol||(o.Symbol={});i(e,t)||r(e,t,{value:s.f(t)})}},"9f01":function(t,e,n){},a0b5:function(t,e,n){},a4d3:function(t,e,n){"use strict";var o=n("23e7"),i=n("da84"),s=n("d066"),r=n("c430"),a=n("83ab"),c=n("4930"),l=n("fdbf"),u=n("d039"),f=n("5135"),d=n("e8b5"),p=n("861d"),v=n("825a"),g=n("7b0b"),b=n("fc6a"),m=n("c04e"),h=n("5c6c"),y=n("7c73"),_=n("df75"),w=n("241c"),A=n("057f"),S=n("7418"),k=n("06cf"),C=n("9bf2"),O=n("d1e7"),j=n("9112"),x=n("6eeb"),E=n("5692"),L=n("f772"),N=n("d012"),I=n("90e3"),P=n("b622"),B=n("e538"),D=n("746f"),$=n("d44e"),Q=n("69f3"),H=n("b727").forEach,R=L("hidden"),U="Symbol",G="prototype",T=P("toPrimitive"),z=Q.set,V=Q.getterFor(U),J=Object[G],W=i.Symbol,q=s("JSON","stringify"),F=k.f,M=C.f,Y=A.f,Z=O.f,X=E("symbols"),K=E("op-symbols"),tt=E("string-to-symbol-registry"),et=E("symbol-to-string-registry"),nt=E("wks"),ot=i.QObject,it=!ot||!ot[G]||!ot[G].findChild,st=a&&u((function(){return 7!=y(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,n){var o=F(J,e);o&&delete J[e],M(t,e,n),o&&t!==J&&M(J,e,o)}:M,rt=function(t,e){var n=X[t]=y(W[G]);return z(n,{type:U,tag:t,description:e}),a||(n.description=e),n},at=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof W},ct=function(t,e,n){t===J&&ct(K,e,n),v(t);var o=m(e,!0);return v(n),f(X,o)?(n.enumerable?(f(t,R)&&t[R][o]&&(t[R][o]=!1),n=y(n,{enumerable:h(0,!1)})):(f(t,R)||M(t,R,h(1,{})),t[R][o]=!0),st(t,o,n)):M(t,o,n)},lt=function(t,e){v(t);var n=b(e),o=_(n).concat(vt(n));return H(o,(function(e){a&&!ft.call(n,e)||ct(t,e,n[e])})),t},ut=function(t,e){return void 0===e?y(t):lt(y(t),e)},ft=function(t){var e=m(t,!0),n=Z.call(this,e);return!(this===J&&f(X,e)&&!f(K,e))&&(!(n||!f(this,e)||!f(X,e)||f(this,R)&&this[R][e])||n)},dt=function(t,e){var n=b(t),o=m(e,!0);if(n!==J||!f(X,o)||f(K,o)){var i=F(n,o);return!i||!f(X,o)||f(n,R)&&n[R][o]||(i.enumerable=!0),i}},pt=function(t){var e=Y(b(t)),n=[];return H(e,(function(t){f(X,t)||f(N,t)||n.push(t)})),n},vt=function(t){var e=t===J,n=Y(e?K:b(t)),o=[];return H(n,(function(t){!f(X,t)||e&&!f(J,t)||o.push(X[t])})),o};if(c||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),n=function(t){this===J&&n.call(K,t),f(this,R)&&f(this[R],e)&&(this[R][e]=!1),st(this,e,h(1,t))};return a&&it&&st(J,e,{configurable:!0,set:n}),rt(e,t)},x(W[G],"toString",(function(){return V(this).tag})),x(W,"withoutSetter",(function(t){return rt(I(t),t)})),O.f=ft,C.f=ct,k.f=dt,w.f=A.f=pt,S.f=vt,B.f=function(t){return rt(P(t),t)},a&&(M(W[G],"description",{configurable:!0,get:function(){return V(this).description}}),r||x(J,"propertyIsEnumerable",ft,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:W}),H(_(nt),(function(t){D(t)})),o({target:U,stat:!0,forced:!c},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var n=W(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),o({target:"Object",stat:!0,forced:!c,sham:!a},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:dt}),o({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pt,getOwnPropertySymbols:vt}),o({target:"Object",stat:!0,forced:u((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(g(t))}}),q){var gt=!c||u((function(){var t=W();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))}));o({target:"JSON",stat:!0,forced:gt},{stringify:function(t,e,n){var o,i=[t],s=1;while(arguments.length>s)i.push(arguments[s++]);if(o=e,(p(e)||void 0!==t)&&!at(t))return d(e)||(e=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!at(e))return e}),i[1]=e,q.apply(null,i)}})}W[G][T]||j(W[G],T,W[G].valueOf),$(W,U),N[R]=!0},bc76:function(t,e,n){"use strict";n("a0b5")},d54c:function(t,e,n){},e01a:function(t,e,n){"use strict";var o=n("23e7"),i=n("83ab"),s=n("da84"),r=n("5135"),a=n("861d"),c=n("9bf2").f,l=n("e893"),u=s.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(f[e]=!0),e};l(d,u);var p=d.prototype=u.prototype;p.constructor=d;var v=p.toString,g="Symbol(test)"==String(u("test")),b=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=v.call(t);if(r(f,t))return"";var n=g?e.slice(7,-1):e.replace(b,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:d})}},e065:function(t,e,n){},e538:function(t,e,n){var o=n("b622");e.f=o}}]);
//# sourceMappingURL=chunk-09a41a84.90a003be.js.map